<html>
    <head>
        <title> ReminderRi </title>
        <meta content="user-scalable=no">
        <style>
            body {
                text-align: center;
                background-color: #8fba4f;
            }
            h1 {
                font-family: Calibri;
                font-size: 3rem;
                font-weight: bold;
                color: #f0f0f0;
            }
            input {
                font-family: Calibri;
                font-size: 2rem;
                padding: 1rem;
                margin: 1rem;
                border: 1px solid #ccc;
                border-radius: 30px;
                text-align: center;
                width: 50%;
                height: 10%;
            }
            button {
                font-family: Calibri;
                font-weight: bold;
                font-size: 2rem;
                margin: 1rem;
                border: 2px solid #ccc;
                border-radius: 30px;
                background-color: #f0f0f0;
                cursor: pointer;
                width: 50%;
                height: 10%;
            }
            img {
                max-width: 30%;
                max-height: 30%;
            }
            p {
                font-family: Calibri;
                color:#ff0000;
                font-weight: bold;
            }
        </style>
    </head>
    <body>
        <div id="main">
            <img src="https://i.ibb.co/1t03NhPT/logo.png"><br>
            <h1> ReminderRi </h1><br>
        </div>
        <p id="error"></p>
        <input type="text" placeholder="Task" id="task"><br>
        <input type="time" placeholder="Time" id="time"><br>
        <button id="remind"> Remind </button> 
        <script src="https://telegram.org/js/telegram-web-app.js"></script>
        <script>
            let telegram = window.Telegram.WebApp;
            let remind = document.getElementById("remind");
            const urlParams = new URLSearchParams(window.location.search);
            const data = urlParams.get('data');
            document.getElementById("task").value = data || "Нет данных";
            remind.addEventListener("click", () => {
                document.getElementById("error").innerText = "";
                let task = document.getElementById("task").value;
                let time = document.getElementById("time").value;
                if (task.length < 1) {
                    document.getElementById("error").innerText = "Error: Task is empty!";
                    return;
                }
                if (time.length < 1) {
                    document.getElementById("error").innerText = "Error: Time is empty!";
                    return;
                }
                let data = {
                    task: task,
                    time: time
                }
                telegram.sendData(JSON.stringify(data))
                telegram.close();
            });
        </script>
    </body>
</html> 
